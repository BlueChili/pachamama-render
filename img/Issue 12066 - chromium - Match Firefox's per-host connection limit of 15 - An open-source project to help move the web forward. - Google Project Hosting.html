<!DOCTYPE html>
<!-- saved from url=(0057)https://code.google.com/p/chromium/issues/detail?id=12066 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
 <meta name="ROBOTS" content="NOARCHIVE">
 
 <link rel="icon" type="image/vnd.microsoft.icon" href="https://ssl.gstatic.com/codesite/ph/images/phosting.ico">
 
 
 <script src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/plusone.js" gapi_processed="true"></script><script type="text/javascript">
 
 
 
 
 var codesite_token = "ABZ6GAci4KlQ9DVNYAZ97hE8gw3W2WENLQ:1427488118236";
 
 
 var CS_env = {"profileUrl": "/u/117639381966503756528/", "assetVersionPath": "https://ssl.gstatic.com/codesite/ph/4119706131923068122", "token": "ABZ6GAci4KlQ9DVNYAZ97hE8gw3W2WENLQ:1427488118236", "projectHomeUrl": "/p/chromium", "relativeBaseUrl": "", "assetHostPath": "https://ssl.gstatic.com/codesite/ph", "domainName": null, "projectName": "chromium", "loggedInUserEmail": "cmdr.chili@gmail.com"};
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 
 </script><script type="text/javascript" async="" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/ga.js"></script>
 
 
 <title>Issue 12066 - 
 chromium -
 
 Match Firefox's per-host connection limit of 15 - 
 An open-source project to help move the web forward. - Google Project Hosting
 </title>
 <link type="text/css" rel="stylesheet" href="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/core.css">
 
 <link type="text/css" rel="stylesheet" href="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/ph_detail.css">
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="https://ssl.gstatic.com/codesite/ph/4119706131923068122/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(https://ssl.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 
 
 .attachments { width:33%; border-top:2px solid #999; padding-top: 3px; margin-left: .7em;}
 .attachments table { margin-bottom: 0.75em; }
 .attachments table tr td { padding: 0; margin: 0; font-size: 95%; }
 .preview { border: 2px solid #c3d9ff; padding: 1px; }
 .preview:hover { border: 2px solid blue; }
 .label { white-space: nowrap; }
 .derived { font-style:italic }
 .cursor_on .author {
 background: url(https://ssl.gstatic.com/codesite/ph/images/show-arrow.gif) no-repeat 2px;
 }
 .hiddenform {
 display: none;
 }

 
 </style>
</head>
<body class="t3">
<script type="text/javascript">
 window.___gcfg = {lang: 'en'};
 (function() 
 {var po = document.createElement("script");
 po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
 var s = document.getElementsByTagName("script")[0];
 s.parentNode.insertBefore(po, s);
 })();
</script>
<div class="headbg">

 <div id="gaia">
 

 <span>
 
 
 
 <a href="https://code.google.com/p/chromium/issues/detail?id=12066#" id="multilogin-dropdown" onclick="return false;"><u><b>cmdr.chili@gmail.com</b></u> <small>▼</small></a>
 
 
 | <a href="https://code.google.com/u/117639381966503756528/" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>▼</small></a>
 | <a href="https://code.google.com/u/117639381966503756528/" onclick="_CS_click(&#39;/gb/ph/profile&#39;);" title="Profile, Updates, and Settings"><u>Profile</u></a>
 | <a href="https://www.google.com/accounts/Logout?continue=https%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D12066" onclick="_CS_click(&#39;/gb/ph/signout&#39;);"><u>Sign out</u></a>
 
 </span>

 </div>

 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if lte IE 7]>
<div style="text-align:center;">
Your version of Internet Explorer is not supported. Try a browser that
contributes to open source, such as <a href="http://www.firefox.com">Firefox</a>,
<a href="http://www.google.com/chrome">Google Chrome</a>, or
<a href="http://code.google.com/chrome/chromeframe/">Google Chrome Frame</a>.
</div>
<![endif]-->



 <table style="padding:0px; margin: 0px 0px 10px 0px; width:100%" cellpadding="0" cellspacing="0" itemscope="" itemtype="http://schema.org/CreativeWork">
 <tbody><tr style="height: 58px;">
 
 
 
 <td id="plogo">
 <link itemprop="url" href="https://code.google.com/p/chromium">
 <a href="https://code.google.com/p/chromium/">
 
 
 <img src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/logo" alt="Logo" itemprop="image">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname">
 <a href="https://code.google.com/p/chromium/"><span itemprop="name">chromium</span></a>
 </div>
 
 <div id="psum">
 <a id="project_summary_link" href="https://code.google.com/p/chromium/"><span itemprop="description">An open-source project to help move the web forward.</span></a>
 
 </div>
 
 
 </td>
 <td style="white-space:nowrap;text-align:right; vertical-align:bottom;">
 
 <form action="https://code.google.com/hosting/search">
 <input size="30" name="q" value="" type="text">
 
 <input type="submit" name="projectsearch" value="Search projects">
 </form>
 
 </td></tr>
 </tbody></table>

</div>

 
<div id="mt" class="gtb"> 
 <a href="https://code.google.com/p/chromium/" class="tab ">Project&nbsp;Home</a>
 
 
 
 
 <a href="https://code.google.com/p/chromium/downloads/list" class="tab ">Downloads</a>
 
 
 
 
 
 <a href="https://code.google.com/p/chromium/w/list" class="tab ">Wiki</a>
 
 
 
 
 
 <a href="https://code.google.com/p/chromium/issues/list" class="tab active">Issues</a>
 
 
 
 
 
 <a href="https://code.google.com/p/chromium/codesearch" class="tab">Code Search</a>
 
 
 
 
 
 
 
 
 <div class="gtbc"></div>
</div>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tbody><tr>
 
 
 
 
 
 <td class="subt">
 <div class="issueDetail">
<div class="isf">
 
 
 <span class="inIssueEntry">
 <a class="buttonify" href="http://chromiumbugs.appspot.com/?token=ABZ6GAfOkaSArrIzhhvYi-vMjI8PK-a5FQ%3A1427488118237&role=&continue=https%3A//code.google.com/p/chromium/issues/entry.do" onclick="return _newIssuePrompt();">New issue</a>
 </span> &nbsp;
 
 <span class="inIssueList">
 <span>Search</span>
 <form action="https://code.google.com/p/chromium/issues/list" method="GET" style="display:inline">
 <select id="can" name="can">
 
<option disabled="disabled">Search within:</option>
<option value="1">&nbsp;All issues</option>
<option value="2" selected="selected">&nbsp;Open issues</option>

 <option value="3">&nbsp;Open and owned by me</option>
 <option value="4">&nbsp;Open and reported by me</option>
 <option value="5">&nbsp;Open and starred by me</option>
 <option value="8">&nbsp;Open with comment by me</option>

<option value="6">&nbsp;New issues</option>
<option value="7">&nbsp;Issues to verify</option>

 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="searchq" name="q" value="" autocomplete="off" onkeydown="_blurOnEsc(event)"></span>
 
 
 <span id="search_colspec"><input type="hidden" name="colspec" value="ID Pri M Week ReleaseBlock Cr Status Owner Summary OS Modified"></span>
 
 
 
 <input type="hidden" name="cells" value="tiles">
 <input type="submit" value="Search">
 </form>
 </span> &nbsp;
 <span class="inIssueAdvSearch">
 <a href="https://code.google.com/p/chromium/issues/advsearch">Advanced search</a>
 </span> &nbsp;
 <span class="inIssueSearchTips">
 <a href="https://code.google.com/p/chromium/issues/searchtips">Search tips</a>
 </span> &nbsp;
 <span class="inIssueSubscriptions">
 <a href="https://code.google.com/p/chromium/issues/subscriptions">Subscriptions</a>
 </span>
</div>
</div>
 </td>
 
 
 
 
 <td align="right" valign="top" class="bevel-right"></td>
 </tr>
</tbody></table>


<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>
<div id="maincol">

 






 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 


 

<div id="color_control" class="closed_colors">
<div id="issueheader">
<table cellpadding="0" cellspacing="0" width="100%"><tbody>
 <tr>
 <td class="vt h3" nowrap="nowrap" style="padding:0 5px">
 
 
 
 
 <img width="15" height="15" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/star_off.gif" style="cursor:pointer" id="star" title="Vote for this issue and get email change notifications" onclick="_toggleStar(this,&#39;&#39;,&#39;chromium&#39;,12066, codesite_token); _syncStarIcons(this, &#39;star2&#39;)">
 
 
 Issue <a href="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting.html">12066</a>:
 </td>
 <td width="90%" class="vt">
 <span class="h3">Match Firefox's per-host connection limit of 15</span>
 </td>
 <td>
 
 </td>
 </tr>
 <tr>
 <td></td>
 <td nowrap="nowrap">
 
 
 49 people starred this issue and may be notified of changes.
 
 
 
 </td>
 <td align="center" nowrap="nowrap">
 
 <a href="https://code.google.com/p/chromium/issues/list?cursor=chromium%3A12066">Back to list</a>
 
 </td>
 </tr>
 
</tbody></table>
</div>
<table width="100%" cellpadding="0" cellspacing="0" border="0" class="issuepage" id="meta-container">
<tbody class="collapse"> 
 <tr>
 <td id="issuemeta" style="min-width: 187px;">
 <div id="meta-float" style="width: 187px; position: fixed; top: 0px; left: 0px;">
 
<table cellspacing="0" cellpadding="0">
 <tbody><tr><th align="left">Status:&nbsp;</th>
 <td width="100%">
 
 <span title="Cannot reproduce, works as intended, invalid, or obsolete">WontFix</span>
 
 </td>
 </tr>
 
 
 
 
 <tr><th align="left">Owner:&nbsp;</th><td>
 
 
 ----
 
 
 </td>
 </tr>
 
 
 <tr><th align="left" valign="top">Closed:&nbsp;</th>
 <td align="left" valign="top" width="100%">
 May 2010
 </td>
 </tr>
 
 
 
 <tr><th class="vt" align="left">Cc:&nbsp;</th><td>
 
 
  

 <a class="userlink" href="https://code.google.com/u/wtc@chromium.org/">wtc@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/darin@chromium.org/">darin@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/104882205630389093475/">j...@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/103324494736133474212/">mbel...@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/115449289798642283272/">ana...@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/113576532808814834716/">gwil...@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/jam@chromium.org/">jam@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a>,  

 <a class="userlink" href="https://code.google.com/u/vandebo@chromium.org/">vandebo@chromium.org</a> 
 
 </td></tr>
 
 
 <tr><td colspan="2">
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:Type-Feature" title="Request for new or improved features" class="label"><b>Type-</b>Feature</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:Pri-2" title="Normal. Desired for specified cycle." class="label"><b>Pri-</b>2</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:OS-All" title="Affects all operating systems" class="label"><b>OS-</b>All</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:Size-Medium" title="" class="label"><b>Size-</b>Medium</a>
 
 </div>
 
 
 
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:Cr-Internals" title="Ugly guts, networking, IPC, storage backend, installer, etc" class="label"><b>Cr-</b>Internals</a>
 
 </div>
 
 
 
 
 <div style="padding-top:2px">
 
 <a href="https://code.google.com/p/chromium/issues/list?q=label:Cr-Internals-Network" title="HTTP, SSL, FTP, Cache, Cookies, Proxies, Resource Loading, Downloads, Safe Browsing" class="label"><b>Cr-</b>Internals-Network</a>
 
 </div>
 
 
 </td></tr>
 
</tbody></table>
<div class="rel_issues">
 
 
 <br><b>Blocking:</b><br>
 
 
 
 
 
 <a href="https://code.google.com/p/chromium/issues/detail?id=19177" title="chrome+gmail is severely slow - 30 to 60 seconds to open an email." class="closed_ref">issue 19177</a><br>
 
 
 
 
</div>

 <br>
 <div class="issue_restrictions">
 <div class="restrictions_header">
 <div class="SPRITE_lock_grey goog-inline-block"></div>
 Restricted
 </div>
 <ul>
 
 
 <li>Only users with Commit permission may comment.</li>
 
 
 
 </ul>
 </div>


 <br><br>
 
 
 
 
 


 
 </div>&nbsp;
 </td>
 <td class="vt issuedescription" width="100%" id="cursorarea">
 
<div class="cursor_off vt issuedescription" id="hc0">
 
 
 <div class="author">
 <span class="role_label">Project Member</span>
 Reported by
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a>,
 <span class="date" title="Fri May 15 14:15:08 2009">May 15, 2009</span>
 
 </div>
<pre>Chrome limits the number of connections per "group" to 6.

This is particularly bad when using a proxy server, since there can be at 
most 6 open connections across all tabs. This gets pretty ugly when you are 
using sites like GMAIL, since they leave connections open (long running 
xmlhttp), and pretty soon you are running on empty and nothing loads.

Browsing through the mozilla documentation, it appears that Firefox 3 has 
boosted the connections per host to 15 (which is more than twice our 
limit):

<a href="http://kb.mozillazine.org/Network.http.max-connections-per-server" rel="nofollow">http://kb.mozillazine.org/Network.http.max-connections-per-server</a>

We should at the very least consider this increase for proxy servers, and 
preferably across the board.

Note that this user experience was reported by a gmail engineer, since they  
keep multiple gmails open and run into this problem frequently.
</pre>

</div>

 


 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc1">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri May 15 15:38:12 2009">
 May 15, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c1" href="https://code.google.com/p/chromium/issues/detail?id=12066#c1">#1</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre>Adding some more cc's of people that have investigated this in the past.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Cc:</b>
 j...@chromium.org willc...@chromium.org mbel...@chromium.org
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc2">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed May 20 15:50:09 2009">
 May 20, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c2" href="https://code.google.com/p/chromium/issues/detail?id=12066#c2">#2</a>
 

 <a class="userlink" href="https://code.google.com/u/mal.chromium@gmail.com/">mal.chromium@gmail.com</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Status:</b>
 Assigned
 
 <br>
 
 <b>Labels:</b>
 Mstone-3.0
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc3">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri May 22 13:38:30 2009">
 May 22, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c3" href="https://code.google.com/p/chromium/issues/detail?id=12066#c3">#3</a>
 

 <a class="userlink" href="https://code.google.com/u/104317132367372742897/">lafo...@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 mstone4
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc4">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri May 22 13:39:23 2009">
 May 22, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c4" href="https://code.google.com/p/chromium/issues/detail?id=12066#c4">#4</a>
 

 <a class="userlink" href="https://code.google.com/u/104317132367372742897/">lafo...@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -mstone-3.0 mstone-4
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc5">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri May 22 13:56:04 2009">
 May 22, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c5" href="https://code.google.com/p/chromium/issues/detail?id=12066#c5">#5</a>
 

 <a class="userlink" href="https://code.google.com/u/104317132367372742897/">lafo...@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -mstone4
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc6">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Jun 23 03:35:53 2009">
 Jun 23, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c6" href="https://code.google.com/p/chromium/issues/detail?id=12066#c6">#6</a>
 

 <a class="userlink" href="https://code.google.com/u/105677827480893940108/">Thomas.G...@gmail.com</a></span>
 
<pre>here are the default values in Firefox (3.5) :
network.http.max-connections 30
network.http.max-connections-per-server 15
network.http.max-persistent-connections-per-proxy 8
network.http.max-persistent-connections-per-server 6
network.http.pipelining false
network.http.pipelining.maxrequests 4
network.http.proxy.pipelining false

what about the default values for Chrome?

and what about pipelining and proxy-piplining in Chrome?
and per-user configuration of the values (AKA Firefox's "about:config")?
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc7">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Aug 11 11:39:40 2009">
 Aug 11, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c7" href="https://code.google.com/p/chromium/issues/detail?id=12066#c7">#7</a>
 

 <a class="userlink" href="https://code.google.com/u/117936893573351356359/">vinuthe...@gmail.com</a></span>
 
<pre>What if the proxy itself limits the value of the max-persistent-connections-per-user,
what will a user do then, if you increase the value of
max-persistent-connections-per-proxy to a high value, then it will be detrimental to
the user in such a scenario. The best solution would be to keep a high default value,
but give the option to the user to configure his own values, in my opinion. 

See related - <a href="https://code.google.com/p/chromium/issues/detail?id=19052" rel="nofollow">https://code.google.com/p/chromium/issues/detail?id=19052</a>
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc8">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Sep 26 00:04:49 2009">
 Sep 26, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c8" href="https://code.google.com/p/chromium/issues/detail?id=12066#c8">#8</a>
 

 <a class="userlink" href="https://code.google.com/u/107895623585559342322/">highocta...@gmail.com</a></span>
 
<pre>personally, i would like the ability to reduce that figure as well.. this is something 
that firefx allows in the about:config dialog, and something thats very helpful in my 
own situation (trying to run a web based php script that breaks easily with higher 
values of etwork.http.max-persistent-connections-per-server) - on my own machines, I've 
set it down to 3 connections per server.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc9">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Sep 28 10:44:27 2009">
 Sep 28, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c9" href="https://code.google.com/p/chromium/issues/detail?id=12066#c9">#9</a>
 

 <a class="userlink" href="https://code.google.com/u/jam@chromium.org/">jam@chromium.org</a></span>
 
<pre><a title="cnn videos don&#39;t load if more tabs are loaded with youtube videos" class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=9939"> Issue 9939 </a> has been merged into this issue.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Cc:</b>
 ana...@chromium.org gwil...@chromium.org j...@chromium.org
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc10">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Oct 16 15:21:30 2009">
 Oct 16, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c10" href="https://code.google.com/p/chromium/issues/detail?id=12066#c10">#10</a>
 

 <a class="userlink" href="https://code.google.com/u/104317132367372742897/">lafo...@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -mstone-4 Mstone-5
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc11">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Dec 17 13:58:07 2009">
 Dec 17, 2009
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c11" href="https://code.google.com/p/chromium/issues/detail?id=12066#c11">#11</a>
 

 <a class="userlink" href="https://code.google.com/u/110455494792614626431/">or...@chromium.org</a></span>
 
<pre>Replacing labels:
   Area-BrowserBackend by Area-Internals

</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -Area-BrowserBackend Area-Internals
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc12">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Feb  7 21:20:37 2010">
 Feb 7, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c12" href="https://code.google.com/p/chromium/issues/detail?id=12066#c12">#12</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Status:</b>
 Available
 
 <br>
 
 <b>Owner:</b>
 ---
 
 <br>
 
 <b>Cc:</b>
 ero...@chromium.org
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc13">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Feb 10 16:19:58 2010">
 Feb 10, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c13" href="https://code.google.com/p/chromium/issues/detail?id=12066#c13">#13</a>
 

 <a class="userlink" href="https://code.google.com/u/109369678188625751100/">disdw...@gmail.com</a></span>
 
<pre>As a Chrome user, I need to change the max connections to something high. Please add an 
option in the network config in the Chrome settings dialogue.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc14">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Mar  5 14:37:08 2010">
 Mar 5, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c14" href="https://code.google.com/p/chromium/issues/detail?id=12066#c14">#14</a>
 

 <a class="userlink" href="https://code.google.com/u/104317132367372742897/">lafo...@chromium.org</a></span>
 
<pre>I'm doubtful that we will ever have a UI to change these settings, but perhaps there is 
an alternate solution in the back of people's minds keeping this bug alive.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -Mstone-5 Mstone-6
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc15">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Mar 12 12:46:00 2010">
 Mar 12, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c15" href="https://code.google.com/p/chromium/issues/detail?id=12066#c15">#15</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre>Just to summarize the thread in more concrete terms:

    *** Chrome allows 6 active connections per host, whereas Firefox allows 15 ***

Firefox's connection limit policy is more fine grain, in that it applies a separate limit for persistent (keep-alive) 
connections. So whereas both browsers limit to 6 persistent connections, Firefox can go up to 15 total. This gives 
website authors more flexibility, since they can choose to send a "Connection: close" header on long lived 
HTTP/1.1 response to avoid it counting against the persistent connections limit for that domain.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc16">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Mar 12 12:46:52 2010">
 Mar 12, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c16" href="https://code.google.com/p/chromium/issues/detail?id=12066#c16">#16</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre><a title="Match Firefox&#39;s per-host connection counting logic for persistent connections" class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=38088"> Issue 38088 </a> has been merged into this issue.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc17">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Mar 12 12:53:42 2010">
 Mar 12, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c17" href="https://code.google.com/p/chromium/issues/detail?id=12066#c17">#17</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Summary:</b>
 Match Firefox's per-host connection limit of 15
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc18">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Mar 12 17:37:48 2010">
 Mar 12, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c18" href="https://code.google.com/p/chromium/issues/detail?id=12066#c18">#18</a>
 

 <a class="userlink" href="https://code.google.com/u/jamesr@chromium.org/">jamesr@chromium.org</a></span>
 
<pre>This is a 5.0 blocking issue (confirmed with Darin)
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -Pri-2 -Mstone-6 Pri-1 Mstone-5
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc19">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sat Mar 13 14:18:28 2010">
 Mar 13, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c19" href="https://code.google.com/p/chromium/issues/detail?id=12066#c19">#19</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>Is this causing some specific, important problem?  Is it the issue reported by the gmail engineer?  Supporting the 
functionality eroman describes in #15 is non-trivial.  Doing a simple bump of 6 to 15 is trivial.  Are we proposing 
finishing eroman's described feature by Mstone-5?
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Cc:</b>
 vand...@chromium.org
 
 <br>
 
 <b>Labels:</b>
 -Type-Bug Type-Feature
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc20">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Mar 15 10:08:21 2010">
 Mar 15, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c20" href="https://code.google.com/p/chromium/issues/detail?id=12066#c20">#20</a>
 

 <a class="userlink" href="https://code.google.com/u/eroman@chromium.org/">eroman@chromium.org</a></span>
 
<pre>@willchan: I believe it was prioritized due to http://b/issue?id=2509291
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc21">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Mar 15 15:29:49 2010">
 Mar 15, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c21" href="https://code.google.com/p/chromium/issues/detail?id=12066#c21">#21</a>
 

 <a class="userlink" href="https://code.google.com/u/vandebo@chromium.org/">vandebo@chromium.org</a></span>
 
<pre>In the network team meeting it was suggested that we should just remove arbitrary 
limits, however I think we should have a per host connection limit for two reasons, 
to not overwhelm a host with too many requests (also the issue raised in comment 7).  
And, as Will pointed out, bandwidth can be an issue if the number of concurrent 
connections is too high.  The ideal number of concurrent connections is probably a 
function of the server's load and of the user's bandwidth.

Raising the limit to fifteen from six doesn't seem to actually solve the issue, it 
would just push the problem out further.  But if a server sends a Connection: Close 
header, it is saying that it understands the resource issues and we shouldn't worry 
about overburdening the server on that connection.

Aside from doing experiments, I think a reasonable solution would be to have 
Connection: Close'd connections not count toward the per host limit (and allow an 
unlimited number of them).

Ideally, we'd monitor the user's bandwidth and the perceived health of the server and 
modulate the per host connection limits based on that, but I'm not sure the 
effort/reward ratio is high enough.

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc22">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Mar 15 17:21:46 2010">
 Mar 15, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c22" href="https://code.google.com/p/chromium/issues/detail?id=12066#c22">#22</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>First, it's useful to note that the real solution for the specific web app seeing this problem 
is to switch to using Web Sockets.

Second, it's useful to note that raising the limit from six to 15 doesn't actually solve the 
problem.  It just pushes the problem out further.  But the qualitative difference between 6 
and 15 is still significant for certain web apps.

I'm a bit concerned about disabling limits for Connection: Close.  If any HTTP 1.1 proxies are 
currently sending Connection: Close to clients, then this might result in overloading proxies.  
On the other hand, 15 for non-persistent connections is pretty arbitrary.  It seems broken for 
web apps to abuse this different connection limit to get more connections, since they're 
probably just reopening the connection after it closes.  It seems better to me for them to 
implement hostname sharding, because then they get persistent connections too.  It's wasteful 
for them to keep opening and closing connections.  If they really understand their resource 
issues, then go ahead and use another hostname.  Really though, they should switch to Web 
Sockets.

I think we shouldn't have a separate connection limit for Connection: Close.  We should run 
experiments to see the performance impact of different connection limit.  I'm not sure if this 
needs to block Mstone-5 since I think the web app can work around it with domain sharding.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc23">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Mar 15 19:18:13 2010">
 Mar 15, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c23" href="https://code.google.com/p/chromium/issues/detail?id=12066#c23">#23</a>
 

 <a class="userlink" href="https://code.google.com/u/103324494736133474212/">mbel...@chromium.org</a></span>
 
<pre>I agree with Will.

I find the differentiation of persistent and non-persistent connection limits as 
strange.  Where in the HTTP specification does it say these types of connections 
should be treated differently?

I realize browsers aren't obeying the HTTP/1.1 spec regarding connection limits 
anyway, but here is what the spec does say:

"Clients that use persistent connections SHOULD limit the number of simultaneous 
connections that they maintain to a given server. A single-user client SHOULD NOT 
maintain more than 2 connections with any server or proxy."

There is nothing in the HTTP spec which says that if a server uses the connection-
close header that it is okay for the client to barrage it with tons of connections.

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc24">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Mar 16 20:37:04 2010">
 Mar 16, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c24" href="https://code.google.com/p/chromium/issues/detail?id=12066#c24">#24</a>
 

 <a class="userlink" href="https://code.google.com/u/darin@chromium.org/">darin@chromium.org</a></span>
 
<pre>I agree that we should not allow an unlimited number of connections to an origin server or proxy server.

If you consider back when HTTP/1.0 without keep-alives was the norm, then more parallel connections were needed to get decent 
throughput.  The advent of keep-alive meant that it was actually advantageous to reduce the number of parallel connections to exploit 
more reuse of the already opened connections.  I don't know what the stats are these days on servers that use keep-alives and those that 
do not, but about a decade ago it was fairly mixed.  So, it made sense to have two tiers.  Back then, the limits for Netscape (and later 
Firefox) were 8 total connections per server with a max of 2 keep-alive.  IE had similar limits in my testing.

Today, I think it is still the case that if confronted with a HTTP/1.0 server that does not support keep-alives that we would want to open 
more connections in parallel.  We also still want to reuse existing connections aggressively, but we are less concerned with reducing the 
number of parallel keep-alive connections.  Everyone has bumped the limits on keep-alive connections up considerably (2 -&gt; 6).

There's not much difference between 6 connections per server and 8 total connections per server.  This is why I originally coded our 
connection pool to not implement a distinction between keep-alive and non-keep-alive connections.  But, Firefox bumped their total limit 
of connections per server way up, and now there is a big difference between 6 and 15 :-(

I'm somewhat supportive of implementing two tiers (like Firefox) because there are non-keep-alive servers out there, and it is a useful way 
for sophisticated servers to implement hanging GET w/o losing a keep-alive connection.  That said, it would be more useful if combined 
with a shared worker so that an origin server can restrict the number of hanging GETs it issues.  Just use a single hanging GET from a 
shared worker!
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc25">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue Mar 16 23:54:15 2010">
 Mar 16, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c25" href="https://code.google.com/p/chromium/issues/detail?id=12066#c25">#25</a>
 

 <a class="userlink" href="https://code.google.com/u/103324494736133474212/">mbel...@chromium.org</a></span>
 
<pre>Darin - if a site needs faster perf, they should be using HTTP/1.1.  I don't believe 
there is a relevant segment of servers which are both using HTTP/1.0 and also wanting 
more concurrent connections such that it would warrant the complexity in our code and 
disregard for RFC recommended connection limits.  If there are any such sites, why 
can these sites not employ:
   a) use of multiple subdomains
   b) use of HTTP/1.1
?

I think we need some data on any server that needs this functionality and where the 
above two workarounds aren't better anyway.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc26">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 00:04:58 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c26" href="https://code.google.com/p/chromium/issues/detail?id=12066#c26">#26</a>
 

 <a class="userlink" href="https://code.google.com/u/104882205630389093475/">j...@chromium.org</a></span>
 
<pre>A coworker pointed out that some users' firewalls attempt to prevent out-bound 
internet attacks by blocking "excessive" simultaneous connection attempts.  The thing 
to google for is "syn flood to host".  

This would-be defensive measure (a.k.a., firewall/router bug??), which probably dates 
back to when syn-flood attacks were more plausible, watches for "too many" 
unacknowledged syn packets.  When the user exceeds the pending quota, it blocks the 
outbound connection attempts, with the expectation that a worm/virus on an intranet 
is attempting to attack a host.  In the extreme, the router can disconnect a user 
from the internet, and not just tear down or break a few connections :-(.

As a consequence, we should probably be VERY careful about raising this limit. For 
some users, raising the connection limit may help a lot... but for other users, it 
may (for now) induce a show-stopper bug for Chromium.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc27">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 00:37:09 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c27" href="https://code.google.com/p/chromium/issues/detail?id=12066#c27">#27</a>
 

 <a class="userlink" href="https://code.google.com/u/darin@chromium.org/">darin@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 Internals-Network
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc28">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 00:40:59 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c28" href="https://code.google.com/p/chromium/issues/detail?id=12066#c28">#28</a>
 

 <a class="userlink" href="https://code.google.com/u/darin@chromium.org/">darin@chromium.org</a></span>
 
<pre>@mbelshe: your suggestions assumes that there are active developers who would actually 
change the site or would even care about performance.  to make web browsing better for 
our users we might be encouraged to open more connections in parallel to servers that 
do not support keep-alives.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc29">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 00:54:39 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c29" href="https://code.google.com/p/chromium/issues/detail?id=12066#c29">#29</a>
 

 <a class="userlink" href="https://code.google.com/u/100292693936222859578/">mbuford...@gmail.com</a></span>
 
<pre>I would just like to remind everyone that some of us use proxies, and that this limit 
is (from what I understand) being enforced as a global connection limit for users of 
proxies.

I tend to keep many tabs open.  As a simple test, I just closed and reopened Chrome 
and all tabs were restored within a matter of seconds.  Then, I edited my settings to 
enable my proxy, closed Chrome, and reopened it.  It took some 3-4 minutes to restore 
all tabs.  Although I consider this slowness annoying, this is actually NOT the 
biggest issue.

The big issue is that now my browser is nearly unusable.  I open up a new tab and go 
to "www.cnn.com" and it will take 5+ minutes to load the page.

Why is this?  I believe that it is because my max connection limit of 6 is tied up by 
the various web pages I have open that are holding connections open effectively 
forever.  Occasionally one of these connections closes and my tab trying to load cnn 
gets in a few images before the other page gets ahold of that connection slot to 
reopen another long lived connection.  I'm not talking about active downloads.  I'm 
talking about connections for things like IM and mail notification where the 
connection is established and held open (mostly idle) to receive notifications.

It has now been about 15 minutes, and cnn.com is only about 50% loaded.

A quick glance at my proxy logs shows connections like these:

1268810005.312 240189 10.0.0.254 TCP_MISS/200 335 CONNECT www.google.com:443 - 
DIRECT/209.85.225.147 -
1268810009.713 258744 10.0.0.254 TCP_MISS/200 117103 CONNECT mail.google.com:443 - 
DIRECT/209.85.225.17 -
1268810041.171 315898 10.0.0.254 TCP_MISS/200 4115 CONNECT clients4.google.com:443 - 
DIRECT/209.85.225.102 -
1268810367.998 602684 10.0.0.254 TCP_MISS/200 278452 CONNECT mail.google.com:443 - 
DIRECT/209.85.225.18 -

So, analyzing the above connections to convert the first 2 columns into start and 
stop times we get:

1268809765 1268810005 10.0.0.254 TCP_MISS/200 335 CONNECT www.google.com:443
1268809751 1268810009 10.0.0.254 TCP_MISS/200 117103 CONNECT mail.google.com:443
1268809726 1268810041 10.0.0.254 TCP_MISS/200 4115 CONNECT clients4.google.com:443
1268809765 1268810367 10.0.0.254 TCP_MISS/200 278452 CONNECT mail.google.com:443

Or, even simpler, I'll convert to offsets from the lowest timestamp of 1268809726:

39-279 10.0.0.254 TCP_MISS/200 335 CONNECT www.google.com:443
25-283 10.0.0.254 TCP_MISS/200 117103 CONNECT mail.google.com:443
 0-315 10.0.0.254 TCP_MISS/200 4115 CONNECT clients4.google.com:443
39-641 10.0.0.254 TCP_MISS/200 278452 CONNECT mail.google.com:443

See my point now?  From timestamp 39-279 (4 minutes!) Google alone was holding onto 4 
of my 6 max global connections.  Throw a few other similar sites in other tabs and 
Chrome is pretty much unusable through the proxy.  I find proxies to only be usable 
in Chrome if I keep things down to only a few tabs open at a time.

Disclaimer:  I'm "just" a power user, and my assertions about how this is operating 
or the cause may be incorrect.  I do know that this is not a problem with IE or 
Firefox when using my proxy, and I do know that the problem completely goes away if I 
disable the proxy.  I can even fire up other browsers and access sites such as 
cnn.com through the proxy while Chrome continues to chug along loading 1 image every 
minute or two.

I'd certainly like to see this configurable, but in my opinion even simply bumping up 
the hard limits so that proxies have a max of 15 (and leaving normal direct hosts at 
6) would be a "good enough" fix.  Hope this helps.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc30">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 02:18:25 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c30" href="https://code.google.com/p/chromium/issues/detail?id=12066#c30">#30</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>@matt: You are talking about a different issue: proxy connection limits.  This is a known issue and it's sort of being worked on (although I can't find a bug thread about it, but maybe eroman knows).  Please 
don't clutter this thread with that discussion.  File a new bug if you want.

Back to the main issue: whether or not to implement different connection limits for HTTP/1.0 or HTTP/1.1 Connection: close.

Let me try to get things clear again since I feel that Darin may have started talking about a slightly different issue.  A certain Google app (see comment #20) is running into our connection per host limit.  
They are relying on Firefox's HTTP/1.1 Connection: close connections having a different limit than persistent connections.  Therefore, they are in essence able to have up to 15 connections.

This is, IMO, a hack.  They should use the more reliable hack of multiple subdomains.  Hopefully in the future they will be able to use Web Sockets or SPDY or something else.

In #24, Darin states: "I'm somewhat supportive of implementing two tiers (like Firefox) because there are non-keep-alive servers out there, and it is a useful way for sophisticated servers to implement 
hanging GET w/o losing a keep-alive connection.  That said, it would be more useful if combined with a shared worker so that an origin server can restrict the number of hanging GETs it issues.  Just use a 
single hanging GET from a shared worker!"  Thus, he notes that there are two reasons to support two tiers: (1) non-keep-alive servers exist (2) It is useful for sophisticated servers to implement hanging 
GETs.

I believe Mike (#25) and I (#22) already addressed (2).  Just use multiple hostnames.  Well, Mike also said to use HTTP/1.1.  Any "sophisticated" server should be doing that.  Darin in #28 says these 
counterarguments only address (2).  So, I think (2) has indeed been addressed and don't think we need to belabor this point (please correct me if I've missed something).

That brings us back to (1), what to do with non-sophisticated non-keep-alive servers.  Darin drives this point in #28 by saying: "to make web browsing better for our users we might be encouraged to open 
more connections in parallel to servers that do not support keep-alives."  There are a few things I'd like to note about this.  This statement does not seem to in any way justify sophisticated Google web 
applications abusing non-keep-alive connections to achieve higher connection limits, and we've already noted the alternatives.  So, we shouldn't have different limits just because of these sophisticated 
applications.  Given that, I also don't see why this needs to be Mstone-5.

So, there doesn't seem to be any immediate issue with Chrome.  But moving forward, there is a deeper question, should we have a higher limit for non-keep-alive connections?  First, I'd like to distinguish 
between HTTP/1.1 Connection: close and HTTP/1.0's default non-keep-alive.   In the first case, keep-alive is the default for HTTP/1.1, so Connection: close indicates that the server either (a) does not 
support for whatever reason [I suspect that it's due to resource constraints] or (b) is trying to abuse Firefox's different connection limits for keep-alive and non-keep-alive connections.  (b) is a hack and 
we've already covered the appropriate workarounds.  (a) probably indicates resource constraints / congestion / etc. since the server is explicitly adding this header, so having higher limits for these cases 
does not seem to make sense to me.  Therefore, for HTTP/1.1 Connection: close, I do not see a good reason to have different connection limits.  For HTTP/1.0 non-keep-alive (the default in 1.0) 
connections, I can see that argument that these servers simply suck, and we might possibly improve our end user experience by having a higher connection per host limit, since these non-keep-alive 
connections will have worse performance since they'll have more tcp connection setup/teardown overhead and spend more time warming up cwnd and thus won't necessarily be able to use the pipe's full 
bandwidth.

Summary:
I think that for HTTP/1.1 servers, there is no point to having a different connection per host limit between non-keep-alive and keep-alive connections.  If you have a sophisticated server and want more 
connections, use hostname sharding for now.
I think that for HTTP/1.0 servers using the default non-keep-alive, there _might_ be a point to having a different connection per host limit for those non-keep-alive connections.  I would advocate 
gathering more data (run A/B experiments).  This should not be Mstone-5 blocking.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc31">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 10:04:17 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c31" href="https://code.google.com/p/chromium/issues/detail?id=12066#c31">#31</a>
 

 <a class="userlink" href="https://code.google.com/u/darin@chromium.org/">darin@chromium.org</a></span>
 
<pre>I agree that this does not need to block M5.

By the way, I have lighttpd installed on my ubuntu box, and it seems to use HTTP/1.0 w/ 
"connection: close" by default.  I wonder why.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc32">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Mar 17 11:58:48 2010">
 Mar 17, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c32" href="https://code.google.com/p/chromium/issues/detail?id=12066#c32">#32</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -Pri-1 -Mstone-5 Pri-2
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc33">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Mar 21 18:48:00 2010">
 Mar 21, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c33" href="https://code.google.com/p/chromium/issues/detail?id=12066#c33">#33</a>
 

 <a class="userlink" href="https://code.google.com/u/111621197070136412025/">mozo...@gmail.com</a></span>
 
<pre>What's the point of comparing Chrome to a single threaded browser?! If I want 15 
connections or more, I'll just keep using Firefox. Just please make everything, and 
really everything unlimited, and handle concurrence! What's the point of a 
multiprocess browser that can't have more gmails open? The whole point would be, that 
if 1 works fine, then 100 works slower but fine.
Limiting the number of connections is like limiting the number of threads. Will there 
a program or an ajax application run faster then? No, because the amount of work that 
have to be done, and the amount of data that have to be transferred stays the same.
And if the server wants less connections, let them write a code that uses less. But 
let the opposite happen too!

Recently I've started using Chrome, because a web game (heavy ajax one) was pretty 
laggy under Firefox, and I couldn't even switch to another tab while it was loading. 
Now it runs fine under Chrome, but... one server of my 3 is always disconnected, so I 
have to keep pushing reload, and play the other one while it loads. Better, but I 
think it's still a shame. Not as big as freezing the UI by JS though.

Thanks for building a cool browser for us!
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc34">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Apr 28 18:04:35 2010">
 Apr 28, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c34" href="https://code.google.com/p/chromium/issues/detail?id=12066#c34">#34</a>
 

 <a class="userlink" href="https://code.google.com/u/bugdroid1@gmail.com/">bugdroid1@gmail.com</a></span>
 
<pre>The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&revision=45896" rel="nofollow">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=45896</a> 

------------------------------------------------------------------------
<a href="https://crrev.com/45896">r45896</a> | willchan@chromium.org | 2010-04-28 18:04:06 -0700 (Wed, 28 Apr 2010) | 23 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/host_port_pair.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/base/host_port_pair.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_session.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_session.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_session.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_session.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction_unittest.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/http/http_network_transaction_unittest.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/proxy/proxy_server.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/proxy/proxy_server.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/proxy/proxy_server.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/proxy/proxy_server.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/socks_client_socket_pool.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/socks_client_socket_pool.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/socks_client_socket_pool_unittest.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/socks_client_socket_pool_unittest.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/tcp_client_socket_pool.h?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/tcp_client_socket_pool.h?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/tcp_client_socket_pool_unittest.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/socket/tcp_client_socket_pool_unittest.cc?r1=45896&amp;r2=45895</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/spdy/spdy_network_transaction.cc?r1=45896&r2=45895" rel="nofollow">http://src.chromium.org/viewvc/chrome/trunk/src/net/spdy/spdy_network_transaction.cc?r1=45896&amp;r2=45895</a>

Implement a 15 connection per proxy server limit.

Previously, we had a limit of 6 connections per proxy server, which was horrifically low.
Connections to all endpoint hosts remains at 6.
Basically, we have a map of socket pools, keyed by the proxy server.
Each of these proxy socket pools has a socket limit of 15 and a connection limit per host of 6.
The main TCP socket pool (non-proxied) has the standard 256 socket limit, and connection limit per host of 6.
There are two maps currently, one for HTTP proxies and one for SOCKS proxies.
Note that SSL tunnels over HTTP CONNECTs are still located within the standard http proxy socket pools.
We depend on the fact that our code never returns a non-SSL connected socket to the pool for a |connection_group|
that is to a HTTPS endpoint.  A newly connected socket from the pool will only have the TCP connection done.  An
idle socket will have both the TCP and the HTTP CONNECT and the SSL handshake done for it.

TODO(willchan): Remove the extra constructor overload for the old deprecated parameters.  Switch to using HostPortPair everywhere.
TODO(willchan): Finish SSL socket pools.
TODO(willchan): Rip out the DoInitConnection() code so it can be shared by other caller (TCP pre-warming!).
TODO(willchan): Flush out the socket pool maps when the proxy configuration changes.
TODO(willchan): Fix up global socket limits.  They're slightly broken in this case, since each pool instance has its own "global" limit, so obviously different pools don't share the same "global" limit.  This is such a minor deal since the global limits are so small for proxy servers compared to the system global limits (256 vs 15), that it doesn't have a big effect.
TODO(willchan): Drink moar b33r.

BUG=12066

Review URL: <a href="http://codereview.chromium.org/1808001" rel="nofollow">http://codereview.chromium.org/1808001</a>
------------------------------------------------------------------------

</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc35">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Tue May 18 13:28:58 2010">
 May 18, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c35" href="https://code.google.com/p/chromium/issues/detail?id=12066#c35">#35</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>I'm going to close this thread as WontFix since all the comments have sort of been 
vague and will summarize the tentative conclusions:
* Chrome connection per host limit will stay at 6, pending more A/B tests (<a title="Run A/B experiments on connection per host limits." class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=44491"> issue 
44491 </a>)
* Servers which need more should use domain sharding for now, but should switch to 
websockets in the future.

Please reopen if this is inaccurate.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Status:</b>
 WontFix
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc36">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Sep 13 12:05:48 2010">
 Sep 13, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c36" href="https://code.google.com/p/chromium/issues/detail?id=12066#c36">#36</a>
 

 <a class="userlink" href="https://code.google.com/u/113323453119239900545/">tomcusa...@gmail.com</a></span>
 
<pre>Someone please do something here.  Open Chrome, go to gmail, nothing else will load at all.  Even closing the tab doesn't help.  I need to restart Chrome every time I use gmail.  6.0.472.55 beta.  Same with release.

 TCP    WCN8S4K1:18090         iad04s01-in-f189.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18091         iad04s01-in-f83.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18092         iad04s01-in-f83.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18093         iad04s01-in-f189.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18094         iad04s01-in-f83.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18095         iad04s01-in-f83.1e100.net:https  SYN_SENT
 TCP    WCN8S4K1:18096         iad04s01-in-f83.1e100.net:https  SYN_SENT
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc37">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Mon Sep 13 12:16:29 2010">
 Sep 13, 2010
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c37" href="https://code.google.com/p/chromium/issues/detail?id=12066#c37">#37</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>The connection per host limits should have nothing to do with with other tabs that don't connect to the same host.  I suggest you file a new bug.  Please do not clutter this thread with comments irrelevant to the topic.  When you file the new bug, please include the output from about:net-internals (follow the instructions there to generate a dump to include in your bug report).
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc38">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Thu Jun  2 08:37:49 2011">
 Jun 2, 2011
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c38" href="https://code.google.com/p/chromium/issues/detail?id=12066#c38">#38</a>
 

 <a class="userlink" href="https://code.google.com/u/108336130926335175909/">lhtandro...@gmail.com</a></span>
 
<pre>It seems there is no way to control the number of outgoing connections. As people have mentioned, it is perfectly possible to have an ISP or a corporate firewall which limits the number of outgoing connections per PC. The result is that 80% of the time, Chrome responds with "Access Denied" and also causes problems for all other network-based software on that PC.

Set whatever default you want, but please allow the speed-freaks and those limited to a small number of connections by 3rd parties to override it up *or* down. Saying that an ISP or corporate network manager *shouldn't* limit things doesn't really help.

The direct parallel, as mentioned above, are the FireFox settings "network.http.max-connections" and "network.http.max-connections-per-server".
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc39">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Wed Jun 22 17:36:40 2011">
 Jun 22, 2011
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c39" href="https://code.google.com/p/chromium/issues/detail?id=12066#c39">#39</a>
 

 <a class="userlink" href="https://code.google.com/u/109247891007201675564/">ithk...@gmail.com</a></span>
 
<pre>We are building an intranet application that uses multiple simultaneous tabs inside of iframes with comet communication with the server.  Because of this issue and issues with printing table headers etc., I may have to recommend that we move away from the Chrome/WebKit platform and recommend that all of our users install Firefox.
</pre>
 
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc40">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Fri Jun 24 05:25:18 2011">
 Jun 24, 2011
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c40" href="https://code.google.com/p/chromium/issues/detail?id=12066#c40">#40</a>
 

 <a class="userlink" href="https://code.google.com/u/willchan@chromium.org/">willchan@chromium.org</a></span>
 
<pre>I'm locking down comments since it does not appear anyone is disagreeing with our existing defaults, but rather want configurability.

To continue the conversation elsewhere, please refer to:
<a title="Allow configuring of max connections and max connections per proxy" class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=87381"> Issue 87381 </a> - Allow configuring of max connections and max connections per proxy
<a title="Configurable connections-per-host" class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=85323"> Issue 85323 </a> - Configurable connections-per-host (I have WontFix'd this one, but it's open for discussion still)
<a title="Policy: Add policy to manage max number of concurrent connections per proxy server" class="closed_ref" href="https://code.google.com/p/chromium/issues/detail?id=63658"> Issue 63658 </a> - Policy: Add policy to manage max number of concurrent connections per proxy server
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 Restrict-AddIssueComment-Commit
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 

 
 
 
 
 <div class="cursor_off vt issuecomment" id="hc41">
 <div style="float:right; margin-right:.3em; text-align:right">
 <span class="date" title="Sun Mar 10 16:03:09 2013">
 Mar 10, 2013
 </span>
 
 
 
 </div>
 
 
 
 
 
 
 
 
 
 
 <span class="author">
 
 <a name="c41" href="https://code.google.com/p/chromium/issues/detail?id=12066#c41">#41</a>
 

 <a class="userlink" href="https://code.google.com/u/101788990881243245974/">bugdro...@chromium.org</a></span>
 
<pre><i>(No comment was entered for this change.)</i>
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <b>Labels:</b>
 -Area-Internals -Internals-Network Cr-Internals Cr-Internals-Network
 
 <br>
 
 <b>Blocking:</b>
 -chromium:19177 chromium:19177
 
 <br>
 
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </div>
 


 


 </td>
 </tr>

 

</tbody>
</table>
<br>
<script type="text/javascript" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/dit_scripts.js"></script>



 

</div> 
<form name="delcom" action="https://code.google.com/p/chromium/issues/delComment.do?q=&can=2&groupby=&sort=&colspec=ID+Pri+M+Week+ReleaseBlock+Cr+Status+Owner+Summary+OS+Modified" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="id" value="12066">
 <input type="hidden" name="token" value="ABZ6GAci4KlQ9DVNYAZ97hE8gw3W2WENLQ:1427488118236">
</form>

<div id="helparea"></div>
<script type="text/javascript">
 _onload();
 function delComment(sequence_num, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.mode.value = delete_mode;
 
 f.submit();
 return false;
 }
 
 _floatMetadata();
</script>
<script type="text/javascript" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/kibbles.js"></script>
<script type="text/javascript">
 _setupKibblesOnDetailPage(
 'https://code.google.com/p/chromium/issues/list?cursor\x3dchromium%3A12066',
 '/p/chromium/issues/entry',
 '',
 '',
 '', 'chromium', 12066,
 false, true, codesite_token);
</script>
 
 
 
 <script type="text/javascript" src="./Issue 12066 - chromium - Match Firefox's per-host connection limit of 15 - An open-source project to help move the web forward. - Google Project Hosting_files/ph_core.js"></script>
 
 
 
 
</div> 

<div id="footer" dir="ltr">
 <div class="text">
 <a href="https://code.google.com/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="https://code.google.com/p/support/">Project Hosting Help</a>
 </div>
</div>
 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>

 
 


 
 


<div class="menuDiv instance0" id="menuDiv-projects-dropdown" style="position: absolute; top: 18px; left: 1240px; display: none;"><div class="menuCategory default" style="display: none;"></div><div class="menuCategory controls first"><hr class="menuSeparator"><a class="menuItem" href="https://code.google.com/hosting/" style="display: block;">Find open source projects...</a><a class="menuItem" href="https://code.google.com/hosting/createProject" style="display: block;">Create a project...</a></div></div><div class="menuDiv instance1" id="menuDiv-multilogin-dropdown" style="position: absolute; top: 18px; left: 1075px; display: none;"><div class="menuCategory default first"><span class="menuText" style="display: block;"><b>cmdr.chili@gmail.com</b></span></div><div class="menuCategory controls"><hr class="menuSeparator"><a class="menuItem" href="http://www.google.com/accounts/AddSession?service=code&continue=https%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D12066" style="display: block;"><nobr>Sign in with another account...</nobr></a></div></div></body></html>